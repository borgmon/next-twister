(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7198)}])},7198:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}});var r=n(5944),i=n(7294),o=n(7948),a=n(5861),l=n(7357),c=n(8462),u=n(891),s=n(9411),f=n(2280),h=n(8895),m=n(2797),y=n(3457),b=n(480),d=n(5071),Z=n(3486),p=n(25),g=n(6949),v=n(265);function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}var x=function(){function e(t){w(this,e),this.limbColors=[-1,-1,-1,-1],this.name=t}return S(e,[{key:"randomLimb",value:function(e,t){var n=t.enablePrioritizeIdleLimb?this.getIdleLimb():O(0,3);return this.limbColors[n]===e&&t.enableForcePlayerMoveNewColor?this.randomLimb(e,t):(this.limbColors[n]=e,n)}},{key:"getIdleLimb",value:function(){for(var e=[],t=0;t<this.limbColors.length;t++)-1==this.limbColors[t]&&e.push(t);return e.length>0?O(0,e.length-1):O(0,3)}}],[{key:"intToLimb",value:function(e){return{0:"Left Hand \u270b",1:"Right Hand \u270b",2:"Left Foot \ud83e\uddb6",3:"Right Foot \ud83e\uddb6"}[e]}},{key:"initNPlayers",value:function(t){for(var n=[],r=0;r<t;r++)n.push(new e((r+1).toString()));return n}}]),e}(),O=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},C=function(){function e(t,n){w(this,e),this.color=t,this.times=n,this.colorTimes=[];for(var r=0;r<t-1;r++)this.colorTimes[r]=0}return S(e,[{key:"isBoardFull",value:function(){return this.colorTimes.reduce((function(e,t){return e+t}))==this.color*this.times}},{key:"next",value:function(e){var t=O(0,e.players.length-1),n=e.players[t];if(this.lastPlayer==n&&e.disableSamePlayerInARow)return this.next(e);var r=0;if(e.enableNSFW&&O(1,10)<=e.nsfwPossibility)r=4;else{if(r=O(0,this.color-1),this.colorTimes[r]>=this.color&&!this.isBoardFull())return this.next(e);this.colorTimes[r]+=1}var i=n.randomLimb(r,e);return this.lastPlayer=n,{player:t,limb:i,color:r}}}],[{key:"intToColorString",value:function(e){return{0:"Green",1:"Yellow",2:"Blue",3:"Red",4:"Bulge"}[e]}},{key:"intToColor",value:function(e){return{0:Z.Z[500],1:p.Z[800],2:g.Z[500],3:v.Z[500]}[e]}}]),e}(),k=n(3508);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){N(e,t,n[t])}))}return e}function L(e){var t=e.gameSetting,n=e.setGameSetting;return(0,r.tZ)(l.Z,{sx:{width:320,padding:2},children:(0,r.BX)(c.Z,{children:[(0,r.tZ)(u.ZP,{children:(0,r.tZ)(a.Z,{variant:"h4",children:"Settings"})}),(0,r.tZ)(u.ZP,{children:(0,r.tZ)(a.Z,{children:"Player numbers"})}),(0,r.tZ)(u.ZP,{children:(0,r.tZ)(s.ZP,{value:t.players.length,max:9,min:2,onChange:function(e,r,i){var o;n(j({},t,{players:(o=r,x.initNPlayers(o))}))},valueLabelDisplay:"auto",marks:!0})}),(0,r.BX)(f.Z,{children:[(0,r.tZ)(h.Z,{expandIcon:(0,r.tZ)(k.Z,{}),children:(0,r.tZ)(a.Z,{children:"Advanced Settings"})}),(0,r.tZ)(m.Z,{children:(0,r.BX)(c.Z,{children:[(0,r.tZ)(u.ZP,{children:(0,r.BX)(y.Z,{children:[(0,r.tZ)(b.Z,{control:(0,r.tZ)(d.Z,{checked:t.disableSamePlayerInARow,onChange:function(e,r){n(j({},t,{disableSamePlayerInARow:r}))}}),label:"Disable same player in a row"}),(0,r.tZ)(b.Z,{control:(0,r.tZ)(d.Z,{checked:t.enableForcePlayerMoveNewColor,onChange:function(e,r){n(j({},t,{enableForcePlayerMoveNewColor:r}))}}),label:"Force players move to a new color"}),(0,r.tZ)(b.Z,{control:(0,r.tZ)(d.Z,{checked:t.enablePrioritizeIdleLimb,onChange:function(e,r){n(j({},t,{enablePrioritizeIdleLimb:r}))}}),label:"Prioritize unused hand/foot"}),(0,r.tZ)(b.Z,{control:(0,r.tZ)(d.Z,{checked:t.enableNSFW,onChange:function(e,r){n(j({},t,{enableNSFW:r}))}}),label:"Enable NSFW"})]})}),(0,r.tZ)(u.ZP,{children:(0,r.tZ)(a.Z,{children:"NSFW Possibility"})}),(0,r.tZ)(u.ZP,{children:(0,r.tZ)(s.ZP,{value:t.nsfwPossibility,max:10,min:1,onChange:function(e,r,i){n(j({},t,{nsfwPossibility:r}))},valueLabelDisplay:"auto",marks:!0})}),(0,r.tZ)(u.ZP,{children:(0,r.tZ)(a.Z,{children:"Animation time"})}),(0,r.tZ)(u.ZP,{children:(0,r.tZ)(s.ZP,{value:t.animationTime,max:1e4,min:1e3,onChange:function(e,r,i){n(j({},t,{animationTime:r}))},valueLabelDisplay:"auto",step:1e3,marks:!0})})]})})]})]})})}var T=n(6242),F=n(4267),I=n(3321),A=n(724),B=n(9920),E=n(9446);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){for(var t=[],n=0;n<e;n++)t.push({title:(n+1).toString(),value:1,color:M[n]});return t},X=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},M=["#4dc9f6","#f67019","#f53794","#537bc4","#acc236","#166a8f","#00a950","#58595b","#8549ba"];function R(e){var t=e.gameSetting,n=e.setGameSetting,o=(0,i.useState)(0),c=o[0],u=o[1],s=(0,i.useState)(!1),f=s[0],h=s[1],m=(0,i.useState)({playerName:"",playerLimb:"",colorName:"",color:""}),y=m[0],b=m[1],d=(0,i.useState)({playerName:"",playerLimb:"",colorName:"",color:""}),Z=d[0],p=d[1],g=(0,B.useSpring)({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(".concat(c,"deg)")},config:{duration:t.animationTime,easing:B.easings.easeOutQuad},onRest:function(){h(!1),b(Z)}}),v=function(){var e=t.game.next(t);return p({playerName:t.players[e.player].name,playerLimb:x.intToLimb(e.limb),colorName:C.intToColorString(e.color),color:C.intToColor(e.color)}),n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}({},t,{game:t.game})),e.player};return(0,r.BX)(l.Z,{children:[(0,r.tZ)(l.Z,{children:(0,r.tZ)(T.Z,{sx:{mt:5},style:{backgroundColor:y.color},children:(0,r.tZ)(F.Z,{children:""===y.playerName?(0,r.tZ)(a.Z,{variant:"h6",align:"center",children:"Click the wheel to spin!"}):(0,r.BX)(a.Z,{variant:"h6",align:"center",children:["Player ",y.playerName,(0,r.tZ)("br",{}),"Put ",y.playerLimb," On ",y.colorName]})})})}),(0,r.tZ)(l.Z,{display:"flex",justifyContent:"center",alignItems:"center",children:(0,r.tZ)(A.Z,{sx:{transform:"rotate(270deg)",fontSize:"100px"}})}),(0,r.tZ)(I.Z,{onClick:function(){if(!f){var e=v()*(360/t.players.length)+360*X(10,100);u(-e-function(){var e=360/t.players.length;return X(0,e)}()),h(!0)}},children:(0,r.tZ)(B.animated.div,{style:g,children:(0,r.tZ)(l.Z,{sx:{width:[270,390,450]},children:(0,r.tZ)(E.PieChart,{data:D(t.players.length),label:function(e){return e.dataEntry.title},startAngle:-90,animate:!0,labelStyle:{color:"white"}})})})})]})}var W=n(9481),z=n(4400),G=n(4229);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U=function(){var e=Q(i.useState({players:x.initNPlayers(4),game:new C(4,6),isDrawerOpen:!1,disableSamePlayerInARow:!0,enableForcePlayerMoveNewColor:!0,enablePrioritizeIdleLimb:!0,enableNSFW:!1,nsfwPossibility:1,animationTime:5e3}),2),t=e[0],n=e[1],c=Q(i.useState(!1),2),u=c[0],s=c[1],f=(0,B.useSpring)({to:{textShadow:"0 0 10px #fff, 0 0 20px #fff, 0 0 30px #e60073, 0 0 40px #e60073, 0 0 50px #e60073, 0 0 60px #e60073, 0 0 70px #e60073"},from:{textShadow:"0 0 20px #fff, 0 0 30px #ff4da6, 0 0 40px #ff4da6, 0 0 50px #ff4da6, 0 0 60px #ff4da6, 0 0 70px #ff4da6, 0 0 80px #ff4da6"},reset:!0,reverse:u,delay:200,onRest:function(){return s(!u)}}),h=function(e){return function(r){(!r||"keydown"!==r.type||"Tab"!==r.key&&"Shift"!==r.key)&&n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){J(e,t,n[t])}))}return e}({},t,{isDrawerOpen:e}))}};return(0,r.BX)(o.Z,{maxWidth:"lg",children:[(0,r.tZ)(W.Z,{sx:{position:"absolute",bottom:16,right:16},icon:(0,r.tZ)(G.Z,{}),onClick:h(!0),ariaLabel:"Settings"}),(0,r.BX)(l.Z,{sx:{my:4,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,r.tZ)(B.animated.div,{style:f,children:(0,r.tZ)(a.Z,{variant:"h3",style:{fontFamily:"Josefin Sans"},children:"Next Twister"})}),(0,r.tZ)(R,{gameSetting:t,setGameSetting:n}),(0,r.tZ)(l.Z,{role:"presentation",children:(0,r.tZ)(z.Z,{anchor:"left",open:t.isDrawerOpen,onClose:h(!1),onOpen:h(!0),children:(0,r.tZ)(L,{gameSetting:t,setGameSetting:n})})})]})]})}}},function(e){e.O(0,[273,907,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);